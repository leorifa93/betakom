<ion-content [fullscreen]="true">
  <div id="firebaseui-auth-container"></div>
  <!-- Login Page -->
  <div class="ion-padding" *ngIf="screen === 'login'">
    <img class="logo" src="assets/images/logo.png" />
    <div class="ion-padding">
      <h3 class="ion-text-center">{{'LOGIN' | translate}}</h3>
      <p class="ion-text-center">{{'ENTERLOGIN' | translate}}</p>
    </div>
    <form [formGroup]="formData">
      <ion-item lines="none" class="ion-item ion-no-padding">
        <fieldset  class="input-item">
          <legend>{{'EMAIL' | translate}}</legend>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M18 5H6C4 5 3 6 3 8V17C3 19 4 20 6 20H18C20 20 21 19 21 17V8C21 6 20 5 18 5ZM17.9409 9.606L13.0291 13.178C12.7211 13.402 12.36 13.514 12 13.514C11.64 13.514 11.2779 13.402 10.9709 13.179L6.05908 9.606C5.72408 9.363 5.65004 8.893 5.89404 8.558C6.13704 8.224 6.60389 8.14801 6.94189 8.39301L11.854 11.965C11.942 12.028 12.059 12.029 12.147 11.965L17.0591 8.39301C17.3961 8.14801 17.8639 8.224 18.1069 8.558C18.3509 8.894 18.2759 9.363 17.9409 9.606Z" fill="url(#paint0_linear_100_3026)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3026" x1="12" y1="5" x2="12" y2="20" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
          <ion-input formControlName="email" type="email" placeholder="{{'EMAIL' | translate}}"></ion-input>
        </fieldset>
      </ion-item>
      <ion-item lines="none" class="ion-item ion-no-padding" style="margin-top: 1rem">
        <fieldset class="input-item">
          <legend>{{'PASSWORD' | translate}}</legend>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M16.75 9.05811V7C16.75 4.38 14.62 2.25 12 2.25C9.38 2.25 7.25 4.38 7.25 7V9.05811C5.752 9.29111 5 10.269 5 12V18C5 20 6 21 8 21H16C18 21 19 20 19 18V12C19 10.269 18.248 9.29111 16.75 9.05811ZM12.75 14.9871V17C12.75 17.414 12.414 17.75 12 17.75C11.586 17.75 11.25 17.414 11.25 17V14.9619C10.962 14.7329 10.7649 14.395 10.7649 14C10.7649 13.31 11.32 12.75 12.01 12.75H12.02C12.71 12.75 13.27 13.31 13.27 14C13.27 14.412 13.057 14.7601 12.75 14.9871ZM15.25 9H8.75V7C8.75 5.21 10.21 3.75 12 3.75C13.79 3.75 15.25 5.21 15.25 7V9Z" fill="url(#paint0_linear_100_3031)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3031" x1="12" y1="2.25" x2="12" y2="21" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
          <ion-input formControlName="password" type="password" placeholder="{{'PASSWORD' | translate}}"></ion-input>
        </fieldset>
      </ion-item>
      <ion-text [color]="'danger'" *ngIf="isPasswordWrong" style="padding-left: 20px; padding-top: 5px">E-Mail oder Passwort ist falsch!</ion-text>
      <p class="forget-text ion-text-right"><a (click)="changeState('forgotPassword')">{{'FORGOTPASSWORD' | translate}}?</a></p>
      <ion-button [disabled]="formData.invalid" size="medium"  expand="block" (click)="login(formData)">
        <p *ngIf="!isLoggingIn">{{'LOGIN' | translate}}</p>
        <ion-spinner *ngIf="isLoggingIn"></ion-spinner>
      </ion-button>
      <div style="display: flex; padding: 2rem 0">
        <div class="div-line"></div>
        <p style="padding:0 10px">{{'OR' | translate}}</p>
        <div class="div-line"></div>
      </div>
      <div class="login-box">
        <ion-button class="login-btn" (click)="createOrSignInViaFacebook()">
          <svg preserveAspectRatio="xMidYMin" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M22 12.0002C22 16.9902 18.34 21.1302 13.56 21.8802V15.0002H16L16.45 12.0002H13.56V10.1202C13.56 9.33022 13.95 8.56023 15.19 8.56023H16.45V6.19023C16.45 6.19023 15.31 5.99023 14.21 5.99023C11.93 5.99023 10.43 7.28022 10.43 9.79022V11.9902H8.00999V14.9902H10.43V21.8702C5.64998 21.1202 1.98999 16.9802 1.98999 11.9902C1.98999 6.47023 6.47 1.99023 11.99 1.99023C17.51 1.99023 21.99 6.47023 21.99 11.9902" fill="url(#paint0_linear_100_3034)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3034" x1="11.995" y1="1.99023" x2="11.995" y2="21.8802" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
        <ion-button class="login-btn" (click)="createOrSignInUserViaGoogle()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M21.5 12.23C21.5 15.27 20.42 17.84 18.54 19.58C16.9 21.1 14.65 22 11.96 22C8.07002 22 4.70001 19.75 3.07001 16.48C2.39001 15.13 2 13.61 2 12C2 10.39 2.39001 8.86999 3.07001 7.51999C4.71001 4.24999 8.07002 2 11.96 2C14.65 2 16.9 2.98999 18.62 4.60999L15.78 7.45999C14.74 6.46999 13.43 5.95999 11.96 5.95999C9.36002 5.95999 7.16 7.72 6.37 10.09C6.17 10.69 6.04999 11.33 6.04999 12C6.04999 12.67 6.16 13.31 6.37 13.91C7.16 16.29 9.36002 18.04 11.96 18.04C13.3 18.04 14.44 17.67 15.34 17.07C16.39 16.36 17.09 15.32 17.33 14.09H11.96V10.33H21.34C21.44 10.94 21.5 11.56 21.5 12.22V12.23Z" fill="url(#paint0_linear_100_3037)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3037" x1="11.75" y1="2" x2="11.75" y2="22" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
        <ion-button *ngIf="showAppleLogin" class="login-btn" (click)="createOrSignInViaApple()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M16.54 12.01C16.54 12.09 16.4 14.47 19 15.7C18.51 17.18 16.85 20.47 14.91 20.49C13.79 20.49 13.13 19.77 11.87 19.77C10.61 19.77 9.85001 20.47 8.85001 20.49C6.93001 20.55 5.08999 16.93 4.57999 15.46C4.19999 14.34 4.01001 13.25 4.01001 12.2C4.01001 8.64001 6.37001 6.88001 8.60001 6.85001C9.68001 6.85001 11.05 7.64001 11.64 7.64001C12.21 7.64001 13.75 6.7 15.17 6.81C16.66 6.93 17.8 7.52001 18.55 8.60001C17.21 9.42001 16.55 10.53 16.56 12.01H16.54ZM14.31 5.41C15.41 4.11 15.31 2.92 15.27 2.5C14.3 2.56 13.18 3.15999 12.54 3.89999C11.84 4.69999 11.42 5.68001 11.51 6.79001C12.56 6.87001 13.52 6.33 14.3 5.41H14.31Z" fill="url(#paint0_linear_100_3040)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3040" x1="11.505" y1="2.5" x2="11.505" y2="20.4907" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
      </div>
      <p class="signup-text ion-text-center ion-margin-top" style="margin-top: 2rem">{{'IAMNEW' | translate}} <a (click)="changeState('create')">{{'REGISTER' | translate}}?</a></p>
    </form>
  </div>

  <!-- Sign up page -->
  <div class="container ion-padding" *ngIf="screen === 'create'">
    <img class="logo" src="assets/images/logo.png" />
    <div class="ion-padding">
      <h3 class="ion-text-center">{{'REGISTER' | translate}}</h3>
      <p class="ion-text-center">{{'ENTERREGISTER' | translate}}</p>
    </div>
    <form [formGroup]="formRegistrationData">
      <ion-item lines="none" class="ion-item ion-no-padding">
        <fieldset  class="input-item">
          <legend>{{'EMAIL' | translate}}</legend>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M18 5H6C4 5 3 6 3 8V17C3 19 4 20 6 20H18C20 20 21 19 21 17V8C21 6 20 5 18 5ZM17.9409 9.606L13.0291 13.178C12.7211 13.402 12.36 13.514 12 13.514C11.64 13.514 11.2779 13.402 10.9709 13.179L6.05908 9.606C5.72408 9.363 5.65004 8.893 5.89404 8.558C6.13704 8.224 6.60389 8.14801 6.94189 8.39301L11.854 11.965C11.942 12.028 12.059 12.029 12.147 11.965L17.0591 8.39301C17.3961 8.14801 17.8639 8.224 18.1069 8.558C18.3509 8.894 18.2759 9.363 17.9409 9.606Z" fill="url(#paint0_linear_100_3026)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3026" x1="12" y1="5" x2="12" y2="20" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
          <ion-input formControlName="email" type="email" placeholder="{{'EMAIL' | translate}}"></ion-input>
        </fieldset>
      </ion-item>
      <ion-item lines="none" class="ion-item ion-no-padding" style="margin-top: 1rem">
        <fieldset class="input-item">
          <legend>{{'PASSWORD' | translate}}</legend>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M16.75 9.05811V7C16.75 4.38 14.62 2.25 12 2.25C9.38 2.25 7.25 4.38 7.25 7V9.05811C5.752 9.29111 5 10.269 5 12V18C5 20 6 21 8 21H16C18 21 19 20 19 18V12C19 10.269 18.248 9.29111 16.75 9.05811ZM12.75 14.9871V17C12.75 17.414 12.414 17.75 12 17.75C11.586 17.75 11.25 17.414 11.25 17V14.9619C10.962 14.7329 10.7649 14.395 10.7649 14C10.7649 13.31 11.32 12.75 12.01 12.75H12.02C12.71 12.75 13.27 13.31 13.27 14C13.27 14.412 13.057 14.7601 12.75 14.9871ZM15.25 9H8.75V7C8.75 5.21 10.21 3.75 12 3.75C13.79 3.75 15.25 5.21 15.25 7V9Z" fill="url(#paint0_linear_100_3031)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3031" x1="12" y1="2.25" x2="12" y2="21" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
          <ion-input formControlName="password" type="password" placeholder="{{'PASSWORD' | translate}}"></ion-input>
        </fieldset>
      </ion-item>
      <ion-item lines="none" class="ion-item ion-no-padding" style="margin-top: 1rem">
        <fieldset class="input-item">
          <legend>{{'PASSWORDCONFIRM' | translate}}</legend>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M16.75 9.05811V7C16.75 4.38 14.62 2.25 12 2.25C9.38 2.25 7.25 4.38 7.25 7V9.05811C5.752 9.29111 5 10.269 5 12V18C5 20 6 21 8 21H16C18 21 19 20 19 18V12C19 10.269 18.248 9.29111 16.75 9.05811ZM12.75 14.9871V17C12.75 17.414 12.414 17.75 12 17.75C11.586 17.75 11.25 17.414 11.25 17V14.9619C10.962 14.7329 10.7649 14.395 10.7649 14C10.7649 13.31 11.32 12.75 12.01 12.75H12.02C12.71 12.75 13.27 13.31 13.27 14C13.27 14.412 13.057 14.7601 12.75 14.9871ZM15.25 9H8.75V7C8.75 5.21 10.21 3.75 12 3.75C13.79 3.75 15.25 5.21 15.25 7V9Z" fill="url(#paint0_linear_100_3031)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3031" x1="12" y1="2.25" x2="12" y2="21" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
          <ion-input formControlName="passwordconfirm" type="password" placeholder="{{'PASSWORDCONFIRM' | translate}}"></ion-input>
        </fieldset>
      </ion-item>
      <ion-button [disabled]="formRegistrationData.invalid" size="medium"  expand="block" (click)="createUser(formRegistrationData)">
        <p *ngIf="!isLoggingIn">{{'REGISTER' | translate}}</p>
        <ion-spinner *ngIf="isLoggingIn"></ion-spinner>
      </ion-button>
      <div style="display: flex; padding: 2rem 0">
        <div class="div-line"></div>
        <p style="padding:0 10px">{{'OR' | translate}}</p>
        <div class="div-line"></div>
      </div>
      <div class="login-box">
        <ion-button class="login-btn" (click)="createOrSignInViaFacebook()">
          <svg preserveAspectRatio="xMidYMin" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M22 12.0002C22 16.9902 18.34 21.1302 13.56 21.8802V15.0002H16L16.45 12.0002H13.56V10.1202C13.56 9.33022 13.95 8.56023 15.19 8.56023H16.45V6.19023C16.45 6.19023 15.31 5.99023 14.21 5.99023C11.93 5.99023 10.43 7.28022 10.43 9.79022V11.9902H8.00999V14.9902H10.43V21.8702C5.64998 21.1202 1.98999 16.9802 1.98999 11.9902C1.98999 6.47023 6.47 1.99023 11.99 1.99023C17.51 1.99023 21.99 6.47023 21.99 11.9902" fill="url(#paint0_linear_100_3034)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3034" x1="11.995" y1="1.99023" x2="11.995" y2="21.8802" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
        <ion-button class="login-btn" (click)="createOrSignInUserViaGoogle()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M21.5 12.23C21.5 15.27 20.42 17.84 18.54 19.58C16.9 21.1 14.65 22 11.96 22C8.07002 22 4.70001 19.75 3.07001 16.48C2.39001 15.13 2 13.61 2 12C2 10.39 2.39001 8.86999 3.07001 7.51999C4.71001 4.24999 8.07002 2 11.96 2C14.65 2 16.9 2.98999 18.62 4.60999L15.78 7.45999C14.74 6.46999 13.43 5.95999 11.96 5.95999C9.36002 5.95999 7.16 7.72 6.37 10.09C6.17 10.69 6.04999 11.33 6.04999 12C6.04999 12.67 6.16 13.31 6.37 13.91C7.16 16.29 9.36002 18.04 11.96 18.04C13.3 18.04 14.44 17.67 15.34 17.07C16.39 16.36 17.09 15.32 17.33 14.09H11.96V10.33H21.34C21.44 10.94 21.5 11.56 21.5 12.22V12.23Z" fill="url(#paint0_linear_100_3037)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3037" x1="11.75" y1="2" x2="11.75" y2="22" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
        <ion-button *ngIf="showAppleLogin" class="login-btn" (click)="createOrSignInViaApple()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M16.54 12.01C16.54 12.09 16.4 14.47 19 15.7C18.51 17.18 16.85 20.47 14.91 20.49C13.79 20.49 13.13 19.77 11.87 19.77C10.61 19.77 9.85001 20.47 8.85001 20.49C6.93001 20.55 5.08999 16.93 4.57999 15.46C4.19999 14.34 4.01001 13.25 4.01001 12.2C4.01001 8.64001 6.37001 6.88001 8.60001 6.85001C9.68001 6.85001 11.05 7.64001 11.64 7.64001C12.21 7.64001 13.75 6.7 15.17 6.81C16.66 6.93 17.8 7.52001 18.55 8.60001C17.21 9.42001 16.55 10.53 16.56 12.01H16.54ZM14.31 5.41C15.41 4.11 15.31 2.92 15.27 2.5C14.3 2.56 13.18 3.15999 12.54 3.89999C11.84 4.69999 11.42 5.68001 11.51 6.79001C12.56 6.87001 13.52 6.33 14.3 5.41H14.31Z" fill="url(#paint0_linear_100_3040)"/>
            <defs>
              <linearGradient id="paint0_linear_100_3040" x1="11.505" y1="2.5" x2="11.505" y2="20.4907" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
      </div>
      <p class="ion-padding ion-text-center">Mit der Registrierung, stimmst du dem <a (click)="showPage('data-protection')">Datenschutz</a> und <a (click)="showPage('agb')">AGBs</a> zu</p>
      <p class="signup-text ion-text-center">Ich bin bereits registriert&nbsp;<a (click)="changeState('login')">Login?</a></p>

    </form>
  </div>

  <div class="container ion-padding" *ngIf="screen === 'forgotPassword'">
    <form [formGroup]="resetData">
      <img class="logo" src="assets/images/logo.png" />
      <h1 class="heading">{{'FORGOTPASSWORD' | translate}}?<br><br></h1>
      <p class="para">{{'ENTEREMAILTORESET' | translate}}</p>
      <ion-item lines="none" class="ion-item ion-no-padding">
        <fieldset  class="input-item">
          <legend>Email</legend>
          <ion-input formControlName="email" type="email" placeholder="name@domain.com"></ion-input>
        </fieldset>
      </ion-item>
      <p ngClass class="signup-text">{{'REMEMBEREDPASSWORD' | translate}}&nbsp;<a (click)="changeState('login')">{{'SIGNIN' | translate}}?</a></p>
      <ion-button [disabled]="resetData.invalid" class="login-button" expand="block" (click)="resetPassword(resetData)">
        <p *ngIf="!isLoggingIn">{{'RESETPASSWORD' | translate}}</p>
        <ion-spinner *ngIf="isLoggingIn"></ion-spinner>
      </ion-button>
    </form>
  </div>


</ion-content>
